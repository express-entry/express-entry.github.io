var Ut=Object.defineProperty;var $t=(e,t,n)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var j=(e,t,n)=>($t(e,typeof t!="symbol"?t+"":t,n),n);import{d as J,bx as D,r as F,aO as E,a0 as K,a8 as g,by as w,a1 as ut,bg as l,ay as N,F as Ft,_ as $,c as W,b8 as Rt,L as et,Z as Vt}from"./@vue-CrgvOuab.js";import{L as H,B as Wt}from"./vue-chartjs-Bsowfliv.js";import{p as yt}from"./chartjs-plugin-zoom-BHwswJXN.js";import{b as X,C as dt,p as ft,d as bt,f as mt,h as Nt,i as vt,P as Ct,j as gt,k as pt,T as wt,l as Lt,A as Bt}from"./chart.js-qLx0x_nK.js";import"./chartjs-adapter-date-fns-D_xa7-Ot.js";import{N as Y,a as Ot,b as Ht,c as Tt,d as Mt,e as nt,f as Yt,g as qt,h as Gt}from"./naive-ui-ChvVkcCY.js";import{V as Zt}from"./vue-mathjax-next-C0I0JM1I.js";import"./hammerjs-BKGieZPK.js";import"./@babel-DuvU54pN.js";import"./@kurkle-BZxJdD1U.js";import"./date-fns-DZay6iBx.js";import"./seemly-CrL6PWhJ.js";import"./vooks-CZh870Nw.js";import"./evtd-CI_DDEu_.js";import"./lodash-es-BTGww3bE.js";import"./@emotion-WldOFDRm.js";import"./vueuc-Cxm6hysz.js";import"./@css-render-CM5UHK-_.js";import"./vdirs-DL8EOfHr.js";import"./@juggle-C8OzoCMD.js";import"./css-render-Ct37b3-v.js";import"./treemate-BzqqFaVt.js";import"./vue-Cgsu6aj0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const St=(e,t)=>Math.pow(Math.max(0,e),t)-Math.pow(Math.max(0,-e),t),At=(e,t)=>{let n=t.max-t.min;return(e-t.min)/n*2-1},Pt=(e,t)=>{let n=t.max-t.min;return(e+1)*n*.5+t.min};class _t extends X{constructor(n){super(n);j(this,"start");j(this,"end");j(this,"_startValue");j(this,"_endValue");j(this,"_valueRange");this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}fTransform(n){let a={min:this.min,max:this.max},r=At(n,a),o=St(r,this.options.level),i=Pt(o,a);return Math.round(i)}rTransform(n){let a={min:this.min,max:this.max},r=At(n,a),o=St(r,1/this.options.level),i=Pt(o,a);return Math.round(i)}buildTicks(){return super.buildTicks().map(a=>Object.assign({},a,{value:this.fTransform(a.value)}))}getPixelForValue(n,a){return super.getPixelForValue(this.rTransform(n),a)}getValueForPixel(n){return super.getValueForPixel(this.fTransform(n))}}j(_t,"id","focus"),j(_t,"defaults",{level:1});let _;const z=new Array(128).fill(void 0);z.push(void 0,null,!0,!1);let Z=z.length;function u(e){Z===z.length&&z.push(z.length+1);const t=Z;return Z=z[t],z[t]=e,t}function s(e){return z[e]}function Kt(e){e<132||(z[e]=Z,Z=e)}function k(e){const t=s(e);return Kt(e),t}const zt=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&zt.decode();let q=null;function lt(){return(q===null||q.byteLength===0)&&(q=new Uint8Array(_.memory.buffer)),q}function U(e,t){return e=e>>>0,zt.decode(lt().subarray(e,e+t))}let B=0;const st=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Jt=typeof st.encodeInto=="function"?function(e,t){return st.encodeInto(e,t)}:function(e,t){const n=st.encode(e);return t.set(n),{read:e.length,written:n.length}};function ct(e,t,n){if(n===void 0){const b=st.encode(e),y=t(b.length,1)>>>0;return lt().subarray(y,y+b.length).set(b),B=b.length,y}let a=e.length,r=t(a,1)>>>0;const o=lt();let i=0;for(;i<a;i++){const b=e.charCodeAt(i);if(b>127)break;o[r+i]=b}if(i!==a){i!==0&&(e=e.slice(i)),r=n(r,a,a=i+e.length*3,1)>>>0;const b=lt().subarray(r+i,r+a),y=Jt(e,b);i+=y.written,r=n(r,a,i,1)>>>0}return B=i,r}function Xt(e){return e==null}let G=null;function V(){return(G===null||G.byteLength===0)&&(G=new Int32Array(_.memory.buffer)),G}function xt(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const r=e.description;return r==null?"Symbol":`Symbol(${r})`}if(t=="function"){const r=e.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(e)){const r=e.length;let o="[";r>0&&(o+=xt(e[0]));for(let i=1;i<r;i++)o+=", "+xt(e[i]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let a;if(n.length>1)a=n[1];else return toString.call(e);if(a=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:a}const It=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{_.__wbindgen_export_2.get(e.dtor)(e.a,e.b)});function Qt(e,t,n,a){const r={a:e,b:t,cnt:1,dtor:n},o=(...i)=>{r.cnt++;const b=r.a;r.a=0;try{return a(b,r.b,...i)}finally{--r.cnt===0?(_.__wbindgen_export_2.get(r.dtor)(b,r.b),It.unregister(r)):r.a=b}};return o.original=r,It.register(o,r,r),o}function te(e,t,n){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1fc7d0969a12ef6f(e,t,u(n))}function ee(e){const t=_.wasm_category_years(e);return k(t)}function Dt(e,t,n,a){const r=_.wasm_category_invite_data(e,t,n,a);return k(r)}function Et(e,t,n){const a=_.wasm_category_pool_data(e,t,n);return k(a)}function ne(e){const t=_.wasm_pool_count_data(e);return k(t)}function ae(e){const t=_.wasm_pool_count_y_max(e);return k(t)}function re(e){const t=_.wasm_pool_count_x_min(e);return k(t)}function oe(e){const t=_.wasm_pool_count_x_max(e);return k(t)}function ie(e,t){const n=_.wasm_pool_rate_data(e,t);return k(n)}function le(e){const t=_.wasm_pool_rate_x_min(e);return k(t)}function se(e){const t=_.wasm_pool_rate_x_max(e);return k(t)}function kt(){const e=_.wasm_invite_data();return k(e)}function jt(){const e=_.wasm_pool_data();return k(e)}function ce(e){const t=_.wasm_invite_score_data(e);return k(t)}function at(e,t){const n=ct(t,_.__wbindgen_malloc,_.__wbindgen_realloc),a=B,r=_.wasm_invite_size_data(e,n,a);return k(r)}function rt(e){const t=_.wasm_invite_x_min(e);return k(t)}function ot(e){const t=_.wasm_invite_x_max(e);return k(t)}function T(e,t){try{return e.apply(this,t)}catch(n){_.__wbindgen_exn_store(u(n))}}function ue(e,t,n,a){_.wasm_bindgen__convert__closures__invoke2_mut__h92b3b5d7258d78e6(e,t,u(n),u(a))}async function _e(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(a){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function de(){const e={};return e.wbg={},e.wbg.__wbindgen_number_new=function(t){return u(t)},e.wbg.__wbindgen_object_drop_ref=function(t){k(t)},e.wbg.__wbg_log_b4d777e9ea980a2a=function(t,n){console.log(U(t,n))},e.wbg.__wbindgen_object_clone_ref=function(t){const n=s(t);return u(n)},e.wbg.__wbindgen_string_new=function(t,n){const a=U(t,n);return u(a)},e.wbg.__wbg_fetch_27eb4c0a08a9ca04=function(t){const n=fetch(s(t));return u(n)},e.wbg.__wbindgen_cb_drop=function(t){const n=k(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbg_queueMicrotask_f61ee94ee663068b=function(t){queueMicrotask(s(t))},e.wbg.__wbg_queueMicrotask_f82fc5d1e8f816ae=function(t){const n=s(t).queueMicrotask;return u(n)},e.wbg.__wbindgen_is_function=function(t){return typeof s(t)=="function"},e.wbg.__wbg_fetch_10edd7d7da150227=function(t,n){const a=s(t).fetch(s(n));return u(a)},e.wbg.__wbg_signal_8fbb4942ce477464=function(t){const n=s(t).signal;return u(n)},e.wbg.__wbg_new_92cc7d259297256c=function(){return T(function(){const t=new AbortController;return u(t)},arguments)},e.wbg.__wbg_abort_510372063dd66b29=function(t){s(t).abort()},e.wbg.__wbg_newwithstrandinit_11fbc38beb4c26b0=function(){return T(function(t,n,a){const r=new Request(U(t,n),s(a));return u(r)},arguments)},e.wbg.__wbindgen_string_get=function(t,n){const a=s(n),r=typeof a=="string"?a:void 0;var o=Xt(r)?0:ct(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=B;V()[t/4+1]=i,V()[t/4+0]=o},e.wbg.__wbg_new_4db22fd5d40c5665=function(){return T(function(){const t=new Headers;return u(t)},arguments)},e.wbg.__wbg_append_b2e8ed692fc5eb6e=function(){return T(function(t,n,a,r,o){s(t).append(U(n,a),U(r,o))},arguments)},e.wbg.__wbg_instanceof_Response_b5451a06784a2404=function(t){let n;try{n=s(t)instanceof Response}catch{n=!1}return n},e.wbg.__wbg_url_e319aee56d26ddf1=function(t,n){const a=s(n).url,r=ct(a,_.__wbindgen_malloc,_.__wbindgen_realloc),o=B;V()[t/4+1]=o,V()[t/4+0]=r},e.wbg.__wbg_status_bea567d1049f0b6a=function(t){return s(t).status},e.wbg.__wbg_headers_96d9457941f08a33=function(t){const n=s(t).headers;return u(n)},e.wbg.__wbg_arrayBuffer_eb2005809be09726=function(){return T(function(t){const n=s(t).arrayBuffer();return u(n)},arguments)},e.wbg.__wbindgen_is_object=function(t){const n=s(t);return typeof n=="object"&&n!==null},e.wbg.__wbindgen_error_new=function(t,n){const a=new Error(U(t,n));return u(a)},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return u(n)},e.wbg.__wbg_set_f975102236d3c502=function(t,n,a){s(t)[k(n)]=k(a)},e.wbg.__wbg_new_75208e29bddfd88c=function(){const t=new Array;return u(t)},e.wbg.__wbg_newnoargs_cfecb3965268594c=function(t,n){const a=new Function(U(t,n));return u(a)},e.wbg.__wbg_next_586204376d2ed373=function(t){const n=s(t).next;return u(n)},e.wbg.__wbg_next_b2d3366343a208b3=function(){return T(function(t){const n=s(t).next();return u(n)},arguments)},e.wbg.__wbg_done_90b14d6f6eacc42f=function(t){return s(t).done},e.wbg.__wbg_value_3158be908c80a75e=function(t){const n=s(t).value;return u(n)},e.wbg.__wbg_iterator_40027cdd598da26b=function(){return u(Symbol.iterator)},e.wbg.__wbg_get_3fddfed2c83f434c=function(){return T(function(t,n){const a=Reflect.get(s(t),s(n));return u(a)},arguments)},e.wbg.__wbg_call_3f093dd26d5569f8=function(){return T(function(t,n){const a=s(t).call(s(n));return u(a)},arguments)},e.wbg.__wbg_new_632630b5cec17f21=function(){const t=new Object;return u(t)},e.wbg.__wbg_self_05040bd9523805b9=function(){return T(function(){const t=self.self;return u(t)},arguments)},e.wbg.__wbg_window_adc720039f2cb14f=function(){return T(function(){const t=window.window;return u(t)},arguments)},e.wbg.__wbg_globalThis_622105db80c1457d=function(){return T(function(){const t=globalThis.globalThis;return u(t)},arguments)},e.wbg.__wbg_global_f56b013ed9bcf359=function(){return T(function(){const t=global.global;return u(t)},arguments)},e.wbg.__wbindgen_is_undefined=function(t){return s(t)===void 0},e.wbg.__wbg_set_79c308ecd9a1d091=function(t,n,a){s(t)[n>>>0]=k(a)},e.wbg.__wbg_call_67f2111acd2dfdb6=function(){return T(function(t,n,a){const r=s(t).call(s(n),s(a));return u(r)},arguments)},e.wbg.__wbg_new_70828a4353259d4b=function(t,n){try{var a={a:t,b:n},r=(i,b)=>{const y=a.a;a.a=0;try{return ue(y,a.b,i,b)}finally{a.a=y}};const o=new Promise(r);return u(o)}finally{a.a=a.b=0}},e.wbg.__wbg_resolve_5da6faf2c96fd1d5=function(t){const n=Promise.resolve(s(t));return u(n)},e.wbg.__wbg_then_f9e58f5a50f43eae=function(t,n){const a=s(t).then(s(n));return u(a)},e.wbg.__wbg_then_20a5920e447d1cb1=function(t,n,a){const r=s(t).then(s(n),s(a));return u(r)},e.wbg.__wbg_buffer_b914fb8b50ebbc3e=function(t){const n=s(t).buffer;return u(n)},e.wbg.__wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e=function(t,n,a){const r=new Uint8Array(s(t),n>>>0,a>>>0);return u(r)},e.wbg.__wbg_new_b1f2d6842d615181=function(t){const n=new Uint8Array(s(t));return u(n)},e.wbg.__wbg_set_7d988c98e6ced92d=function(t,n,a){s(t).set(s(n),a>>>0)},e.wbg.__wbg_length_21c4b0ae73cba59d=function(t){return s(t).length},e.wbg.__wbg_stringify_865daa6fb8c83d5a=function(){return T(function(t){const n=JSON.stringify(s(t));return u(n)},arguments)},e.wbg.__wbg_has_ad45eb020184f624=function(){return T(function(t,n){return Reflect.has(s(t),s(n))},arguments)},e.wbg.__wbg_set_961700853a212a39=function(){return T(function(t,n,a){return Reflect.set(s(t),s(n),s(a))},arguments)},e.wbg.__wbindgen_debug_string=function(t,n){const a=xt(s(n)),r=ct(a,_.__wbindgen_malloc,_.__wbindgen_realloc),o=B;V()[t/4+1]=o,V()[t/4+0]=r},e.wbg.__wbindgen_throw=function(t,n){throw new Error(U(t,n))},e.wbg.__wbindgen_memory=function(){const t=_.memory;return u(t)},e.wbg.__wbindgen_closure_wrapper545=function(t,n,a){const r=Qt(t,n,108,te);return u(r)},e}function fe(e,t){return _=e.exports,ht.__wbindgen_wasm_module=t,G=null,q=null,_}async function ht(e){if(_!==void 0)return _;typeof e>"u"&&(e=new URL("/assets/analyzer_bg-DKx7hobO.wasm",import.meta.url));const t=de();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:a}=await _e(await e,t);return fe(n,a)}const be=J({__name:"Invitations",async setup(e){let t,n;dt.register(ft,bt,mt,Nt,vt,Ct,gt,X,pt,wt,_t,yt),[t,n]=D(()=>ht()),await t,n();let a=([t,n]=D(()=>kt()),t=await t,n(),t),r=F(),o=F(),i=F();const b=function(){return i.value.chart},y=function(){return i.value==r.value?o.value.chart:i.value==o.value?r.value.chart:null};let L=ce(a),I=at(a,"m");const A=function(C,d,c){let v=this.getLabelForValue(C);return" ".repeat(8-v.length)+v},O=C=>{let d=C.chart;if(b()==d){let c=y();c.scales.x.options.min=d.scales.x.options.min,c.scales.x.options.max=d.scales.x.options.max,c.update("none")}},x=C=>{let d=C.chart;if(b()==d){let P=y();P.scales.x.options.min=d.scales.x.options.min,P.scales.x.options.max=d.scales.x.options.max,P.update("none")}let c=o.value.chart,v={min:c.scales.x.min,max:c.scales.x.max},f=(v.max-v.min)/1e3/3600/24;f>2500?I=at(a,"m"):f>583?I=at(a,"w"):I=at(a,"d"),c.data=I,c.update("none")};let R={zoom:{wheel:{enabled:!0},mode:"x",onZoom:x},limits:{x:{min:rt(a),max:ot(a)}},pan:{enabled:!0,mode:"x",onPan:O}};const m=function(C){return C.map(d=>L.tooltip.title[0][d.dataIndex])};let h={maintainAspectRatio:!1,scales:{x:{type:"time",min:rt(a),max:ot(a)},y:{type:"focus",level:1.5,min:0,max:1e3,grid:{display:!1},ticks:{callback:A}}},plugins:{legend:{position:"right"},zoom:R,tooltip:{callbacks:{title:m}}}};const p=function(C){return C.map(d=>I.tooltip.title[0][d.dataIndex])};let S={maintainAspectRatio:!1,scales:{x:{type:"time",min:([t,n]=D(()=>rt(a)),t=await t,n(),t),max:([t,n]=D(()=>ot(a)),t=await t,n(),t)},y:{type:"logarithmic",min:0,grid:{display:!1},ticks:{callback:A}}},plugins:{legend:{position:"right"},zoom:{zoom:{wheel:{enabled:!0},mode:"x",onZoom:x},limits:{x:{min:([t,n]=D(()=>rt(a)),t=await t,n(),t),max:([t,n]=D(()=>ot(a)),t=await t,n(),t)}},pan:{enabled:!0,mode:"x",onPan:O}},tooltip:{callbacks:{title:p}}}};return(C,d)=>(E(),K(Ft,null,[g(l(Y),{title:"Invitation CRS Score"},{default:w(()=>[ut("div",null,[g(l(H),{ref_key:"scoreChartRef",ref:r,onMouseover:d[0]||(d[0]=c=>N(i)?i.value=l(r):i=l(r)),onMouseleave:d[1]||(d[1]=c=>N(i)?i.value=null:i=null),options:l(h),data:l(L),style:{height:"30vh",width:"100%"}},null,8,["options","data"])])]),_:1}),g(l(Y),{title:"Invitation Size"},{default:w(()=>[ut("div",null,[g(l(Wt),{ref_key:"sizeChartRef",ref:o,onMouseover:d[2]||(d[2]=c=>N(i)?i.value=l(o):i=l(o)),onMouseleave:d[3]||(d[3]=c=>N(i)?i.value=null:i=null),options:l(S),data:l(I),style:{height:"30vh",width:"100%"}},null,8,["options","data"])])]),_:1})],64))}}),Q=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n},me=Q(be,[["__scopeId","data-v-006bf16d"]]),ge={key:0},pe={key:1},we=J({__name:"Candidates",async setup(e){let t,n;dt.register(ft,bt,mt,vt,Ct,gt,X,pt,wt,yt,Lt),[t,n]=D(()=>ht()),await t,n();let a=([t,n]=D(()=>jt()),t=await t,n(),t),r=([t,n]=D(()=>kt()),t=await t,n(),t);const o=function({focused:x,checked:R}){const m={};return R?(m.background="#e67e22",x&&(m.boxShadow="0 0 0 2px #e67e2240")):(m.background="#3498db",x&&(m.boxShadow="0 0 0 2px #3498db40")),m};let i=F(!1),b=ne(a),y=ie(a,r),L={maintainAspectRatio:!1,scales:{x:{type:"time"},y:{min:0,reverse:!0}},plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"xy"},limits:{y:{min:0,max:ae(a)},x:{min:re(a),max:oe(a)}},pan:{enabled:!0,mode:"xy"}},legend:{position:"right"},tooltip:{enabled:!1}}};const I=function(x){return x.map(R=>"Predicted Increase Rate")},A=function(x){return y.tooltip.label[x.datasetIndex][0]};let O={maintainAspectRatio:!1,interaction:{mode:"nearest",axis:"xy",intersect:!1},scales:{x:{type:"time"},y:{reverse:!0}},plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"x"},limits:{x:{min:le(a),max:se(a)}},pan:{enabled:!0,mode:"x"}},tooltip:{filter:function(x){return x.datasetIndex<y.tooltip.label.length},callbacks:{title:I,label:A}},legend:{position:"right",labels:{filter:function(x){return x.text!="none"}}}}};return(x,R)=>(E(),$(l(Y),{title:"Candidates in the Pool"},{"header-extra":w(()=>[g(l(Ot),{round:!1,"rail-style":o,value:l(i),"onUpdate:value":R[0]||(R[0]=m=>N(i)?i.value=m:i=m)},{checked:w(()=>[W(" Increase Rate ")]),unchecked:w(()=>[W(" Total Count ")]),_:1},8,["value"])]),default:w(()=>[l(i)?(E(),K("div",ge,[g(l(H),{ref:"rateChartRef",options:l(O),data:l(y),style:{height:"70vh",width:"100%"}},null,8,["options","data"])])):(E(),K("div",pe,[g(l(H),{ref:"countChartRef",options:l(L),data:l(b),style:{height:"70vh",width:"100%"}},null,8,["options","data"])]))]),_:1}))}}),he=Q(we,[["__scopeId","data-v-cb9c5ca2"]]),xe=J({__name:"Categories",async setup(e){let t,n;dt.register(ft,bt,mt,Lt,Bt,gt,X,pt,wt),[t,n]=D(()=>ht()),await t,n();let a=([t,n]=D(()=>jt()),t=await t,n(),t),r=([t,n]=D(()=>kt()),t=await t,n(),t),o=ee(r),i=F(),b=F(!0),y=F({label:"all",key:0});function L(){x=Dt(a,r,y.value.key,b.value);let c=i.value.chart;c.data=x,c.update("none")}let I=F(),A=F({label:"all",key:0});function O(){R=Et(a,r,A.value.key);let c=I.value.chart;c.data=R,c.update("none")}let x=Dt(a,r,0,!0),R=Et(a,r,0),p={maintainAspectRatio:!1,interaction:{mode:"nearest",axis:"xy",intersect:!1},scales:{x:{type:"time"},y:{min:0,max:100,ticks:{callback:function(c){return c+"%"}}}},plugins:{legend:{position:"right"},tooltip:{callbacks:{title:function(c){return c.map(v=>x.tooltip.title[0][v.dataIndex])},label:function(c){return x.tooltip.label[c.datasetIndex][c.dataIndex]}}}}},d={maintainAspectRatio:!1,interaction:{mode:"nearest",axis:"xy",intersect:!1},scales:{x:{type:"time"},y:{min:0,ticks:{callback:function(c){return c+"%"}}}},plugins:{legend:{position:"right"},tooltip:{callbacks:{title:function(c){return c.map(v=>R.tooltip.title[0][v.dataIndex])},label:function(c){return R.tooltip.label[c.datasetIndex][c.dataIndex]}}}}};return(c,v)=>(E(),K(Ft,null,[ut("div",null,[g(l(Y),{title:"Invitations By Categories"},{"header-extra":w(()=>[g(l(Ot),{round:!1,value:l(b),"onUpdate:value":v[0]||(v[0]=f=>{N(b)?b.value=f:b=f,L()})},{checked:w(()=>[W(" PNP ")]),unchecked:w(()=>[W(" PNP ")]),_:1},8,["value"]),g(l(Ht),{vertical:""}),g(l(Tt),{options:l(o),onSelect:v[1]||(v[1]=f=>{N(y)?y.value={label:f==0?"all":f.toString(),key:f}:y={label:f==0?"all":f.toString(),key:f},L()})},{default:w(()=>[g(l(Mt),null,{default:w(()=>[W(Rt(l(y).label),1)]),_:1})]),_:1},8,["options"])]),default:w(()=>[g(l(H),{ref_key:"inviteChartRef",ref:i,options:l(p),data:l(x),style:{height:"30vh",width:"100%"}},null,8,["options","data"])]),_:1})]),ut("div",null,[g(l(Y),{title:"Candidates By Categories"},{"header-extra":w(()=>[g(l(Tt),{options:l(o),onSelect:v[2]||(v[2]=f=>{N(A)?A.value={label:f==0?"all":f.toString(),key:f}:A={label:f==0?"all":f.toString(),key:f},O()})},{default:w(()=>[g(l(Mt),null,{default:w(()=>[W(Rt(l(A).label),1)]),_:1})]),_:1},8,["options"])]),default:w(()=>[g(l(H),{ref_key:"poolChartRef",ref:I,options:l(d),data:l(R),style:{height:"30vh",width:"100%"}},null,8,["options","data"])]),_:1})])],64))}}),ye=Q(xe,[["__scopeId","data-v-ceab83d7"]]);var M=(e=>(e.GENERAL="General",e.PNP="Province",e.CEC="Inland",e.FSW="Oversea",e.STEM="STEM",e.HEALTH="Health",e.FRENCH="French",e.TRADE="Trade",e.TRANSPORT="Transport",e.AGRICULTURE="Agriculture",e.UNKNOWN="Unknown",e))(M||{});let it={2015:{min:68e3,max:74e3},2016:{min:54e3,max:59e3},2017:{min:69600,max:77300},2018:{min:72700,max:78200},2019:{min:76e3,max:86e3},2020:{min:88500,max:1e5},2021:{min:81e3,max:110250},2022:{min:52e3,max:64e3},2023:{min:67750,max:88e3},2024:{min:9e4,max:116e3},2025:{min:96500,max:124e3},2026:{min:96500,max:124e3}};async function ve(){const t=await fetch("https://www.canada.ca/content/dam/ircc/documents/json/ee_rounds_123_en.json");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}async function Ce(){const e=await ve();return console.log(e),e.rounds.map(function(t){return{id:parseInt(t.drawNumber.replace(/,/g,"")),crs:parseInt(t.drawCRS.replace(/,/g,"")),size:parseInt(t.drawSize.replace(/,/g,"")),name:ke(t.drawName),date:new Date(Date.parse(t.drawDateFull)),pool:Re([t.dd1,t.dd2,t.dd4,t.dd5,t.dd6,t.dd7,t.dd8,t.dd10,t.dd11,t.dd12,t.dd13,t.dd14,t.dd15,t.dd16,t.dd17])}})}function ke(e){return e=="No Program Specified"||e=="General"?M.GENERAL:e=="Provincial Nominee Program"?M.PNP:e=="Canadian Experience Class"?M.CEC:e=="Federal Skilled Worker"?M.FSW:e=="Federal Skilled Trades"?M.TRADE:e=="STEM occupations (2023-1)"?M.STEM:e=="Healthcare occupations (2023-1)"?M.HEALTH:e=="French language proficiency (2023-1)"||e=="French language proficiency (2024-1)"?M.FRENCH:e=="Trade occupations (2023-1)"?M.TRADE:e=="Transport occupations (2023-1)"?M.TRANSPORT:e=="Agriculture and agri-food occupations (2023-1)"?M.AGRICULTURE:M.UNKNOWN}function Re(e){const t=[0,301,351,401,411,421,431,441,451,461,471,481,491,501,601],n=[300,350,400,410,420,430,440,450,460,470,480,490,500,600,1200],a=e.map(r=>parseInt(r.replace(/,/g,"")));return a.reduce((r,o)=>r+o,0)==0?[]:a.map(function(r,o){return{min:t[o],max:n[o],count:r}})}const Te=J({__name:"Plan",async setup(e){let t,n;dt.register(ft,bt,mt,Nt,vt,Ct,gt,X,pt,wt,_t,yt);const a=([t,n]=D(()=>Ce()),t=await t,n(),t).filter(m=>m.name!=M.PNP),r=Math.min(...a.map(m=>m.date.getFullYear())),o=Math.max(...a.map(m=>m.date.getFullYear()))+3;function i(){let m=new Date(r,0).getTime(),h=new Date(o,0).getTime(),p=h-m;return{min:m-p*.02,max:h+p*.02}}const b=i(),y=function(m,h,p){let S=this.getLabelForValue(m);return" ".repeat(8-S.length)+S};function L(){let m=[];for(let p=r;p<o;p++){let S=new Date(p,6).getTime(),C=it[p].min,d=it[p].max;var h=null;Date.now()>=new Date(p,0).getTime()&&(h=a.filter(c=>c.date.getFullYear()==p).reduce((c,v)=>c+v.size,0)),m.push({label:S,planMin:C,planMax:d,actual:h})}return m}function I(){let m=[];for(let p=r;p<o;p++){let S=it[p].min,C=it[p].max;for(let d=0;d<12;d++){let c=new Date(p,d,15).getTime(),v=S/(12-d),f=C/(12-d);var h=null;Date.now()>=new Date(p,d).getTime()?(h=a.filter(P=>P.date.getFullYear()==p&&P.date.getMonth()==d).reduce((P,tt)=>P+tt.size,0),C-=h,S-=h):(C-=f,S-=v),C=Math.max(0,C),S=Math.max(0,S),m.push({label:c,planMin:v,planMax:f,actual:h})}}return m}function A(m){const h=m?I():L(),p=h.map(f=>f.label),S={label:"Low Range",data:h.map(f=>f.planMin),cubicInterpolationMode:"monotone",backgroundColor:"#F4D03F",borderColor:"#F4D03F",borderDash:[5,5]},C={label:"Low Range",data:h.map(f=>f.planMax),cubicInterpolationMode:"monotone",backgroundColor:"#F4D03F",borderColor:"#F4D03F",borderDash:[5,5]},d={label:"Invitation",data:h.map(f=>f.actual),cubicInterpolationMode:"monotone",backgroundColor:"#58D68D ",borderColor:"#58D68D "},c=[S,C,d];console.log(h);const v=f=>{let P=f.chart,tt={min:P.scales.x.min,max:P.scales.x.max};(tt.max-tt.min)/1e3/3600/24>2500?P.data=A(!1).data:P.data=A(!0).data,P.update("none")};return{data:{labels:p,datasets:c},options:{responsive:!1,maintainAspectRatio:!1,scales:{x:{type:"time",min:b.min,max:b.max},y:{type:"linear",grid:{display:!1},ticks:{callback:y}}},plugins:{zoom:{zoom:{wheel:{enabled:!0},mode:"x",onZoom:v},limits:{x:{min:b.min,max:b.max}},pan:{enabled:!0,mode:"x"}}}}}}let O=A(!1),x=F(),R=null;return(m,h)=>(E(),$(l(Y),{title:"IRCC Departmental Plan"},{default:w(()=>[g(l(H),{ref_key:"planChart",ref:x,onMouseover:h[0]||(h[0]=p=>N(R)?R.value=l(x):R=l(x)),onMouseleave:h[1]||(h[1]=p=>N(R)?R.value=null:R=null),options:l(O).options,data:l(O).data,style:{height:"30vh",width:"100%"}},null,8,["options","data"])]),_:1}))}}),Me=Q(Te,[["__scopeId","data-v-0bb7368e"]]),Se={};function Ae(e,t){return E(),K("p",null,"SHA: d22eb4f7e21dfdf66495bc80d1a86c65c542f49a")}const Pe=Q(Se,[["render",Ae]]),Ie=J({__name:"App",setup(e){return(t,n)=>(E(),$(l(Gt),{theme:l(qt)},{default:w(()=>[g(l(Yt),{type:"line","default-value":"invitations",animated:""},{default:w(()=>[g(l(nt),{name:"invitations",tab:"Invitations"},{default:w(()=>[(E(),$(et,null,{default:w(()=>[g(me)]),_:1}))]),_:1}),g(l(nt),{name:"candidates",tab:"Candidates"},{default:w(()=>[(E(),$(et,null,{default:w(()=>[g(he)]),_:1}))]),_:1}),g(l(nt),{name:"categories",tab:"Categories"},{default:w(()=>[(E(),$(et,null,{default:w(()=>[g(ye)]),_:1}))]),_:1}),g(l(nt),{name:"plan",tab:"IRCC Plan"},{default:w(()=>[(E(),$(et,null,{default:w(()=>[g(Me)]),_:1}))]),_:1})]),_:1}),g(Pe)]),_:1},8,["theme"]))}});Vt(Ie).use(Zt).mount("#app");
